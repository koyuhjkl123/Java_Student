package com.test;

import java.sql.Date;

import javax.swing.JOptionPane;

public class Exam01_Book_Rental extends Exam01_Book {

//	책, 대여, 반납

	private boolean isrental = false; // 책 대여 여부
	private static int isInt_rantal = 7; // 대여 기간 7일 고정
	private String book_name; // 책 이름
	Date book_return_date; // 반납 예정일

	Exam01_Book Book_lists;
//	반납기간은 항시 일수 해당 지점에 12시
	Date date_now;

	public Exam01_Book_Rental() {
	};

	public Exam01_Book_Rental(String book_name, boolean isrental) {
		super(book_name, isrental);
		this.book_name = book_name;
		this.isrental = isrental;
	}

	public String getBookName() {
		return book_name;
	}

	public boolean getIsRental() {
		return isrental;
	}

	public int getIsIntRantal() {
		return isInt_rantal;
	}

	public void BookIsRental() {
//		책 대여가 가능한지 여부확인
		String input = JOptionPane.showInputDialog(null, "원하시는 책 제목을 입력하세요", "북 카페", JOptionPane.PLAIN_MESSAGE);
		for (Exam01_Book book : books) {
			StringBuilder ab = new StringBuilder();
//			for (int i = 0; i < books.size(); i++) {
//			대여할 책이 기존 책에 있는지
			if (book.getTitle().equals(input)) {
//				해당 책이 대여한게 있는지
				if (book.book_isrental) {
					JOptionPane.showMessageDialog(null, "이미 대여된 " + book.getTitle() + "책입니다.", "북 카페",
							JOptionPane.PLAIN_MESSAGE);
//					책이 있고 대여한게 없다면 대여 가능
				} else {
					book.book_isrental = true; // 해당 책은 대여가 됬다.
					JOptionPane.showMessageDialog(null, "해당" + book.getTitle() + " 대여가 가능합니다." + "대여를 하시겠습니까?",
							"북 카페", JOptionPane.PLAIN_MESSAGE);
					break;
				}
			} else {
				JOptionPane.showMessageDialog(null, "검색 하신 " + input + "책은 없습니다.", "북 카페", JOptionPane.PLAIN_MESSAGE);
				System.out.println(books.get(i).getTitle().equals(input));
			}
		}
	}

}
